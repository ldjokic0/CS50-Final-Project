{% extends "template.html" %}

{% set active_page = "Search history" %}

{% block title %} Search history {% endblock %}

{% block main %}
  {% for message in get_flashed_messages() %}
    <div class="alert alert-dismissible alert-light mb-5">
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      {{ message }}
    </div>
  {% endfor %}

{% if results %}
<table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">No.</th>
        <th scope="col">Search keyword</th>
        <th scope="col">Timestamp</th>
        <th scope="col">Items found</th>
        <th scope="col">Mean value</th>
        <th scope="col">Median value</th>
      </tr>
    </thead>
    <tbody>
      {% for search_keyword, timestamp, count, mean, median in results %}
      <tr class="table-active">
        <td>{{loop.index}}</td>
        <td>{{ search_keyword }}</td>
        <td>{{ timestamp }}</td>
        <td>{{ count }}</td>
        <td>{{ mean }} &euro;</td>
        <td>{{ median }} &euro;</td>
      </tr>
      {% endfor %}
    </tbody>
</table>
{% endif %}
{% endblock %}